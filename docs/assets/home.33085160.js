import{d as b,g as c,s as M,h as C,o as x,c as T,b as N,i as O,j as S,k as V,l as $,w as A,r as z,a as l,m as y,e as k,n as P,p as B,q as F,t as q,T as E,v as H,x as W,y as j,z as D}from"./index.fd31e87f.js";const I=b({__name:"Starfield",setup(R){var m;let _=c(.2),i=0,o=c();const r=M();let s=c((m=o.value)==null?void 0:m.getContext("2d"));c(!0);class h{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n,this.xPrev=e,this.yPrev=t}update(e,t,n){this.xPrev=this.x,this.yPrev=this.y,this.z+=n*.0675,this.x+=this.x*(n*.0225)*this.z,this.y+=this.y*(n*.0225)*this.z,(this.x>e/2||this.x<-e/2||this.y>t/2||this.y<-t/2)&&(this.x=Math.random()*e-e/2,this.y=Math.random()*t-t/2,this.xPrev=this.x,this.yPrev=this.y,this.z=0)}draw(e){e.lineWidth=this.z,e.beginPath(),e.moveTo(this.x,this.y),e.lineTo(this.xPrev,this.yPrev),e.stroke()}}const v=Array.from({length:100},()=>new h(0,0,0)),u=()=>{if(r.value){const{clientWidth:a,clientHeight:e}=r.value;if(s.value){for(const t of v)t.update(a,e,_.value),t.draw(s.value);s.value.fillRect(-a/2,-e/2,a,e)}i=requestAnimationFrame(u)}},w=()=>{var a,e;if(i>0&&cancelAnimationFrame(i),r.value){const{clientWidth:t,clientHeight:n}=r.value,f=window.devicePixelRatio||1;o.value.width=t*f,o.value.height=n*f,o.value.style.width=`${t}px`,o.value.style.height=`${n}px`,(a=s.value)==null||a.scale(f,f);for(const p of v)p.x=Math.random()*t-t/2,p.y=Math.random()*n-n/2,p.z=0;(e=s.value)==null||e.translate(t/2,n/2),s.value&&(s.value.fillStyle="rgba(0, 0, 0, 0.2)",s.value.strokeStyle="white"),i=requestAnimationFrame(u)}},d=new ResizeObserver(w);return C(()=>{var a;s.value=(a=o.value)==null?void 0:a.getContext("2d"),d.observe(r.value)}),(a,e)=>(x(),T("div",{ref_key:"container",ref:r,class:"absolute inset-0"},[N("canvas",{ref_key:"canvas",ref:o},null,512)],512))}}),U={flex:"","justify-center":""},X=b({__name:"home",setup(R){const g=O(),_=S(()=>g.disableJump),i=c(null),o=V($(i));let r=c(!0);const s=()=>{r.value=!r.value},h=()=>{W(()=>{s()},7e3)},v=S(()=>_.value?{transition:".3s ease-out all",transform:`rotateX(${o.roll*20}deg) rotateY(${o.tilt*20}deg)`}:{transition:".3s ease-out all"});return A(()=>P.value,u=>{u&&(s(),h())}),C(()=>{h()}),(u,w)=>{const d=I,m=j,a=z("Starport"),e=D,t=z("RouterView");return x(),T("main",{ref_key:"target",ref:i,class:"flex-center flex-col h-full text-gray-700 dark:text-gray-200 perspective-300"},[l(E,{name:"fade-star",mode:"out-in"},{default:y(()=>[k(P)?(x(),B(d,{key:0,class:F(["transition-opacity-2000",{"opacity-0":!r.value}])},null,8,["class"])):q("",!0)]),_:1}),l(a,{port:"iu-ui","w-121px":"","h-45px":"","z-1000":""},{default:y(()=>[l(m)]),_:1}),N("div",U,[l(a,{port:"menu","w-100px":"","h-50px":""},{default:y(()=>[l(e)]),_:1})]),l(t,{style:H(k(v))},null,8,["style"])],512)}}});export{X as default};
