import{d as T,g as c,s as M,h as b,o as g,c as C,b as N,i as O,j as z,k as V,l as $,m as d,w as A,r as k,a as i,n as x,e as P,p as B,q,t as E,T as F,v as H,x as W,y as j}from"./index.19212ecb.js";const D=T({__name:"Starfield",setup(R){var f;let p=c(.2),l=0,n=c();const r=M();let a=c((f=n.value)==null?void 0:f.getContext("2d"));c(!0);class h{constructor(e=0,t=0,o=0){this.x=e,this.y=t,this.z=o,this.xPrev=e,this.yPrev=t}update(e,t,o){this.xPrev=this.x,this.yPrev=this.y,this.z+=o*.0675,this.x+=this.x*(o*.0225)*this.z,this.y+=this.y*(o*.0225)*this.z,(this.x>e/2||this.x<-e/2||this.y>t/2||this.y<-t/2)&&(this.x=Math.random()*e-e/2,this.y=Math.random()*t-t/2,this.xPrev=this.x,this.yPrev=this.y,this.z=0)}draw(e){e.lineWidth=this.z,e.beginPath(),e.moveTo(this.x,this.y),e.lineTo(this.xPrev,this.yPrev),e.stroke()}}const u=Array.from({length:100},()=>new h(0,0,0)),v=()=>{if(r.value){const{clientWidth:s,clientHeight:e}=r.value;if(a.value){for(const t of u)t.update(s,e,p.value),t.draw(a.value);a.value.fillRect(-s/2,-e/2,s,e)}l=requestAnimationFrame(v)}},m=()=>{var s,e;if(l>0&&cancelAnimationFrame(l),r.value){const{clientWidth:t,clientHeight:o}=r.value,_=window.devicePixelRatio||1;n.value.width=t*_,n.value.height=o*_,n.value.style.width=`${t}px`,n.value.style.height=`${o}px`,(s=a.value)==null||s.scale(_,_);for(const y of u)y.x=Math.random()*t-t/2,y.y=Math.random()*o-o/2,y.z=0;(e=a.value)==null||e.translate(t/2,o/2),a.value&&(a.value.fillStyle="rgba(0, 0, 0, 0.2)",a.value.strokeStyle="white"),l=requestAnimationFrame(v)}},S=new ResizeObserver(m);return b(()=>{var s;a.value=(s=n.value)==null?void 0:s.getContext("2d"),S.observe(r.value)}),(s,e)=>(g(),C("div",{ref_key:"container",ref:r,class:"absolute inset-0 -z-1"},[N("canvas",{ref_key:"canvas",ref:n},null,512)],512))}}),I={flex:"","justify-center":""},J=T({__name:"home",setup(R){const w=O(),p=z(()=>w.disableJump),l=c(null),n=V($(l));let r=c(d.value),a;const h=()=>{r.value=!r.value},u=()=>{clearTimeout(a),a=setTimeout(()=>{h()},7e3)},v=z(()=>p.value?{transition:".3s ease-out all",transform:`rotateX(${n.roll*20}deg) rotateY(${n.tilt*20}deg)`}:{transition:".3s ease-out all"});return A(()=>d.value,m=>{m?(h(),u()):(r.value=!1,clearTimeout(a))}),b(()=>{d.value&&u()}),(m,S)=>{const f=D,s=W,e=k("Starport"),t=j,o=k("RouterView");return g(),C("main",{ref_key:"target",ref:l,class:"flex-center flex-col h-full text-gray-700 dark:text-gray-200 perspective-300"},[i(F,{name:"fade-star",mode:"out-in"},{default:x(()=>[P(d)?(g(),B(f,{key:0,class:q(["transition-opacity-2000",{"opacity-0":!r.value}])},null,8,["class"])):E("",!0)]),_:1}),i(e,{port:"iu-ui","w-121px":"","h-45px":"",relative:"","z-1000":""},{default:x(()=>[i(s)]),_:1}),N("div",I,[i(e,{port:"menu","w-100px":"","h-50px":""},{default:x(()=>[i(t)]),_:1})]),i(o,{style:H(P(v))},null,8,["style"])],512)}}});export{J as default};
