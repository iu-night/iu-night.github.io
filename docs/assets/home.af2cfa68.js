import{d as b,g as u,s as M,h as C,o as g,c as N,b as w,i as O,j as k,k as V,l as $,m as d,w as A,r as P,a as l,n as x,e as T,p as B,q,t as E,T as F,v as H,x as W,y as j}from"./index.bf146da3.js";const D=b({__name:"Starfield",setup(R){var f;let p=.4,i=0,r=u();const n=M();let a=u((f=r.value)==null?void 0:f.getContext("2d"));u(!0);class h{constructor(e=0,t=0,o=0){this.x=e,this.y=t,this.z=o,this.xPrev=e,this.yPrev=t}update(e,t,o){this.xPrev=this.x,this.yPrev=this.y,this.z+=o*.0675,this.x+=this.x*(o*.0225)*this.z,this.y+=this.y*(o*.0225)*this.z,(this.x>e/2||this.x<-e/2||this.y>t/2||this.y<-t/2)&&(this.x=Math.random()*e-e/2,this.y=Math.random()*t-t/2,this.xPrev=this.x,this.yPrev=this.y,this.z=0)}draw(e){e.lineWidth=this.z,e.beginPath(),e.moveTo(this.x,this.y),e.lineTo(this.xPrev,this.yPrev),e.stroke()}}const c=Array.from({length:50},()=>new h(0,0,0)),v=()=>{if(n.value){const{clientWidth:s,clientHeight:e}=n.value;if(a.value){for(const t of c)t.update(s,e,p),t.draw(a.value);a.value.fillRect(-s/2,-e/2,s,e)}i=requestAnimationFrame(v)}},m=()=>{var s,e;if(i>0&&cancelAnimationFrame(i),n.value){const{clientWidth:t,clientHeight:o}=n.value,_=window.devicePixelRatio||1;r.value.width=t*_,r.value.height=o*_,r.value.style.width=`${t}px`,r.value.style.height=`${o}px`,(s=a.value)==null||s.scale(_,_);for(const y of c)y.x=Math.random()*t-t/2,y.y=Math.random()*o-o/2,y.z=0;(e=a.value)==null||e.translate(t/2,o/2),a.value&&(a.value.fillStyle="rgba(0, 0, 0, 0.2)",a.value.strokeStyle="white"),i=requestAnimationFrame(v)}},z=new ResizeObserver(m);return C(()=>{var s;a.value=(s=r.value)==null?void 0:s.getContext("2d"),z.observe(n.value)}),(s,e)=>(g(),N("div",{ref_key:"container",ref:n,class:"absolute inset-0 -z-1"},[w("canvas",{ref_key:"canvas",ref:r},null,512)],512))}}),I={flex:"","justify-center":""},U={class:"perspective-300"},X=b({__name:"home",setup(R){const S=O(),p=k(()=>S.disableJump),i=u(null),r=V($(i));let n=u(d.value),a;const h=()=>{n.value=!n.value},c=()=>{clearTimeout(a),a=setTimeout(()=>{h()},5e3)},v=k(()=>p.value?{transition:".3s ease-out all",transform:`rotateX(${r.roll*20}deg) rotateY(${r.tilt*20}deg)`}:{transition:".3s ease-out all"});return A(()=>d.value,m=>{m?(h(),c()):(n.value=!1,clearTimeout(a))}),C(()=>{d.value&&c()}),(m,z)=>{const f=D,s=W,e=P("Starport"),t=j,o=P("RouterView");return g(),N("main",{ref_key:"target",ref:i,class:"flex-center flex-col h-full text-gray-700 dark:text-gray-200"},[l(F,{name:"fade-star",mode:"out-in"},{default:x(()=>[T(d)?(g(),B(f,{key:0,class:q(["transition-opacity-2000",{"opacity-0":!n.value}])},null,8,["class"])):E("",!0)]),_:1}),l(e,{port:"iu-ui","w-121px":"","h-45px":"",relative:"","z-1000":""},{default:x(()=>[l(s)]),_:1}),w("div",I,[l(e,{port:"menu","w-100px":"","h-50px":""},{default:x(()=>[l(t)]),_:1})]),w("div",U,[l(o,{style:H(T(v))},null,8,["style"])])],512)}}});export{X as default};
