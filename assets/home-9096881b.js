var O=Object.defineProperty;var V=(c,n,l)=>n in c?O(c,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):c[n]=l;var h=(c,n,l)=>(V(c,typeof n!="symbol"?n+"":n,l),l);import{e as N,f,s as $,g as R,o as P,c as M,a as S,u as A,h as T,i as B,j as q,k as g,w as E,r as b,b as v,l as z,m as C,n as F,p as H,q as W,T as j,t as D,v as I,x as U}from"./index-0b4ebc15.js";const J=N({__name:"Starfield",setup(c){var x;let l=.4,u=0,i=f();const r=$();let a=f((x=i.value)==null?void 0:x.getContext("2d"));f(!0);class _{constructor(e=0,t=0,o=0){h(this,"x");h(this,"y");h(this,"z");h(this,"xPrev");h(this,"yPrev");this.x=e,this.y=t,this.z=o,this.xPrev=e,this.yPrev=t}update(e,t,o){this.xPrev=this.x,this.yPrev=this.y,this.z+=o*.0675,this.x+=this.x*(o*.0225)*this.z,this.y+=this.y*(o*.0225)*this.z,(this.x>e/2||this.x<-e/2||this.y>t/2||this.y<-t/2)&&(this.x=Math.random()*e-e/2,this.y=Math.random()*t-t/2,this.xPrev=this.x,this.yPrev=this.y,this.z=0)}draw(e){e.lineWidth=this.z,e.beginPath(),e.moveTo(this.x,this.y),e.lineTo(this.xPrev,this.yPrev),e.stroke()}}const m=Array.from({length:50},()=>new _(0,0,0)),d=()=>{if(r.value){const{clientWidth:s,clientHeight:e}=r.value;if(a.value){for(const t of m)t.update(s,e,l),t.draw(a.value);a.value.fillRect(-s/2,-e/2,s,e)}u=requestAnimationFrame(d)}},p=()=>{var s,e;if(u>0&&cancelAnimationFrame(u),r.value){const{clientWidth:t,clientHeight:o}=r.value,y=window.devicePixelRatio||1;i.value.width=t*y,i.value.height=o*y,i.value.style.width=`${t}px`,i.value.style.height=`${o}px`,(s=a.value)==null||s.scale(y,y);for(const w of m)w.x=Math.random()*t-t/2,w.y=Math.random()*o-o/2,w.z=0;(e=a.value)==null||e.translate(t/2,o/2),a.value&&(a.value.fillStyle="rgba(0, 0, 0, 0.2)",a.value.strokeStyle="white"),u=requestAnimationFrame(d)}},k=new ResizeObserver(p);return R(()=>{var s;a.value=(s=i.value)==null?void 0:s.getContext("2d"),k.observe(r.value)}),(s,e)=>(P(),M("div",{ref_key:"container",ref:r,class:"absolute inset-0 -z-1"},[S("canvas",{ref_key:"canvas",ref:i},null,512)],512))}}),X={flex:"","justify-center":""},Y={class:"perspective-300"},L=N({__name:"home",setup(c){const n=A(),l=T(()=>n.disableJump),u=f(null),i=B(q(u));let r=f(g.value),a;const _=()=>{r.value=!r.value},m=()=>{clearTimeout(a),a=setTimeout(()=>{_()},5e3)},d=T(()=>l.value?{transition:".3s ease-out all",transform:`rotateX(${i.roll*20}deg) rotateY(${i.tilt*20}deg)`}:{transition:".3s ease-out all"});return E(()=>g.value,p=>{p?(_(),m()):(r.value=!1,clearTimeout(a))}),R(()=>{g.value&&m()}),(p,k)=>{const x=J,s=I,e=b("Starport"),t=U,o=b("RouterView");return P(),M("main",{ref_key:"target",ref:u,class:"flex-center flex-col h-full text-gray-700 dark:text-gray-200"},[v(j,{name:"fade-star",mode:"out-in"},{default:z(()=>[C(g)?(P(),F(x,{key:0,class:H(["transition-opacity-2000",{"opacity-0":!r.value}])},null,8,["class"])):W("",!0)]),_:1}),v(e,{port:"iu-ui","w-121px":"","h-45px":"",relative:"","z-1000":""},{default:z(()=>[v(s)]),_:1}),S("div",X,[v(e,{port:"menu","w-100px":"","h-50px":""},{default:z(()=>[v(t)]),_:1})]),S("div",Y,[v(o,{style:D(C(d))},null,8,["style"])])],512)}}});export{L as default};
